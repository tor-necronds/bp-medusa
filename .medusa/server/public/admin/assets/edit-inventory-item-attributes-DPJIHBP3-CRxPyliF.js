import{C as b}from"./chunk-BW4QA6B6-B-kA2bGs.js";import{K as I}from"./chunk-6HTZNHPT-BJ6krZ6N.js";import{b as u,u as F}from"./chunk-AERWK3TJ-D_sd7NgU.js";import{ah as w,b as y,eQ as C,j as e,H as E,aD as _,aE as L,ax as M,eW as S,t as v,J as r,K as c,B as f,az as x,aK as m}from"./index-BcvhWi3G.js";var A=M({height:m().positive().optional(),width:m().positive().optional(),length:m().positive().optional(),weight:m().positive().optional(),mid_code:x().optional(),material:x().optional(),hs_code:x().optional(),origin_country:x().optional()}),K=s=>({height:s.height??void 0,width:s.width??void 0,length:s.length??void 0,weight:s.weight??void 0,mid_code:s.mid_code??void 0,material:s.material??void 0,hs_code:s.hs_code??void 0,origin_country:s.origin_country??void 0}),T=({item:s})=>{const{t:o}=y(),{handleSuccess:h}=F(),n=_({defaultValues:K(s),resolver:L(A)}),{mutateAsync:j,isPending:p}=S(s.id),g=n.handleSubmit(async t=>{await j(t,{onSuccess:()=>{v.success(o("inventory.toast.updateItem")),h()},onError:i=>v.error(i.message)})});return e.jsx(u.Form,{form:n,children:e.jsxs(I,{onSubmit:g,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(u.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:n.control,name:"height",render:({field:{onChange:t,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.height")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;t(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"width",render:({field:{onChange:t,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.width")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;t(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"length",render:({field:{onChange:t,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.length")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;t(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"weight",render:({field:{onChange:t,value:i,...a}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.weight")}),e.jsx(r.Control,{children:e.jsx(c,{type:"number",min:0,value:i||"",onChange:d=>{const l=d.target.value;t(l===""?null:parseFloat(l))},...a})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"mid_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"hs_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"material",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.material")}),e.jsx(r.Control,{children:e.jsx(c,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"origin_country",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:o("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(b,{...t})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(u.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(u.Close,{asChild:!0,children:e.jsx(f,{variant:"secondary",size:"small",children:o("actions.cancel")})}),e.jsx(f,{type:"submit",size:"small",isLoading:p,children:o("actions.save")})]})})]})})},N=()=>{const{id:s}=w(),{t:o}=y(),{inventory_item:h,isPending:n,isError:j,error:p}=C(s),g=!n&&h;if(j)throw p;return e.jsxs(u,{children:[e.jsx(u.Header,{children:e.jsx(E,{children:o("products.editAttributes")})}),g&&e.jsx(T,{item:h})]})};export{N as Component};
