import{u as h,a as _}from"./chunk-YGLRZQ4C-B6ChQqw2.js";import{C as T,c as x,o as E}from"./chunk-VSQK3AWP-BjDgFj-m.js";import{a as A,j as s,b as f,d as j,db as b,C,H as O,x as v,n as S,r as D,k as L}from"./index-BcvhWi3G.js";import{u as k,_ as w}from"./chunk-YTN73JYH-CmRzzSPM.js";import"./chunk-GU5PJRPM-CCBSHkRw.js";import{S as F}from"./chunk-GIZFNLKK-rRAlG5Mq.js";import"./chunk-C76H5USB-D2gMrc88.js";import"./chunk-7DXVXBSA-CQVKcaLu.js";import"./chunk-3I6G3NRU-5iTXObfw.js";import"./chunk-INE2QCSC-DSgZPtoY.js";import"./chunk-X6BAAGCL-Cmzs-01s.js";import"./chunk-DK4WIVY6-CYCbBMOO.js";import"./chunk-P3UUX2T6-tHRlw3yo.js";import"./chunk-ROKB75YP-doOiTN2B.js";import"./chunk-DZWH2RV6-BSnD2hbo.js";import"./chunk-ADOCJB6L-D9w_Ktcv.js";import"./react-country-flag.esm-BkTB3IRy.js";import"./chunk-6CPMXY5N-BnsD9cSz.js";import"./chunk-XLDQPLK4-J0yMuq5Z.js";import"./chunk-IQBAUTU5-cxpITxb6.js";import"./chunk-TBEGSDLQ-CqlmjLt4.js";import"./chunk-HQKGZADC-DbIUDp0S.js";import"./chunk-EMIHDNB7-Ccq-oh8f.js";import"./index-DUdhiXGb.js";import"./Trans-BEcCzTt2.js";var g=()=>{const{t:e}=f(),{regions:t}=v({limit:1e3,fields:"id,name"}),{sales_channels:r}=S({limit:1e3,fields:"id,name"});return D.useMemo(()=>{const i=[{key:"created_at",label:e("fields.createdAt"),type:"date"},{key:"updated_at",label:e("fields.updatedAt"),type:"date"}];return t!=null&&t.length&&i.push({key:"region_id",label:e("fields.region"),type:"select",multiple:!0,searchable:!0,options:t.map(a=>({label:a.name,value:a.id}))}),r!=null&&r.length&&i.push({key:"sales_channel_id",label:e("fields.salesChannel"),type:"select",multiple:!0,searchable:!0,options:r.map(a=>({label:a.name,value:a.id}))}),i},[t,r,e])};function P(){return x({entity:"orders",queryPrefix:"o",pageSize:20,columnAdapter:E,useData:(e,t)=>{const{orders:r,count:i,isError:a,error:d,isLoading:u}=b({fields:e,...t},{placeholderData:(m,o)=>{var l,p;const n=(p=(l=o==null?void 0:o[o.length-1])==null?void 0:l.query)==null?void 0:p.fields;if(!(n&&n!==e))return m}});return{data:r,count:i,isLoading:u,isError:a,error:d}},getRowHref:e=>`/orders/${e.id}`,emptyState:{empty:{heading:"No orders found"}}})}function R(){const e=g();return{...P(),filters:e}}var I=()=>{const{t:e}=f(),t=R();return s.jsx(T,{adapter:t,heading:e("orders.domain"),layout:"fill"})},z=["id","status","created_at","email","display_id","custom_display_id","payment_status","fulfillment_status","total","currency_code"],N=["*customer","*sales_channel"],$=`${z.join(",")},${N.join(",")}`,c=20,q=()=>{const{t:e}=f();if(j("view_configurations"))return s.jsx(I,{});const{searchParams:r,raw:i}=h({pageSize:c}),{orders:a,count:d,isError:u,error:m,isLoading:o}=b({fields:$,...r},{placeholderData:L}),n=g(),l=_({}),{table:p}=k({data:a??[],columns:l,enablePagination:!0,count:d,pageSize:c});if(u)throw m;return s.jsxs(C,{className:"divide-y p-0",children:[s.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:s.jsx(O,{children:e("orders.domain")})}),s.jsx(w,{columns:l,table:p,pagination:!0,navigateTo:y=>`/orders/${y.original.id}`,filters:n,count:d,search:!0,isLoading:o,pageSize:c,orderBy:[{key:"display_id",label:e("orders.fields.displayId")},{key:"created_at",label:e("fields.createdAt")},{key:"updated_at",label:e("fields.updatedAt")}],queryObject:i,noRecords:{message:e("orders.list.noRecordsMessage")}})]})},me=()=>{const{getWidgets:e}=A();return s.jsx(F,{widgets:{after:e("order.list.after"),before:e("order.list.before")},hasOutlet:!1,children:s.jsx(q,{})})};export{me as Component};
