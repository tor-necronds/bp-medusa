import{S as b}from"./chunk-GIZFNLKK-rRAlG5Mq.js";import{u as G}from"./chunk-2GWGNMAA-B2-kCssj.js";import{D as T}from"./chunk-TBEGSDLQ-CqlmjLt4.js";import{u as j}from"./chunk-C76H5USB-D2gMrc88.js";import{u as S}from"./chunk-DZWH2RV6-BSnD2hbo.js";import{a as h,j as s,b as x,es as w,k as y,C as A,u as L,h as P,eH as E,r as m,t as g,ab as k,P as F,T as H}from"./index-BcvhWi3G.js";import"./Trans-BEcCzTt2.js";var f=10,I=()=>{const{t:e}=x(),{getWidgets:a}=h(),{q:c,order:u,offset:o,created_at:i,updated_at:t}=j(["q","order","offset","created_at","updated_at"]),r=N(),p=q(),{customer_groups:l,count:_,isPending:C,isError:D,error:v}=w({q:c,order:u,offset:o?parseInt(o):void 0,limit:f,created_at:i?JSON.parse(i):void 0,updated_at:t?JSON.parse(t):void 0,fields:"id,name,created_at,updated_at,customers.id"},{placeholderData:y});if(D)throw v;return s.jsx(b,{widgets:{before:a("customer_group.list.before"),after:a("customer_group.list.after")},children:s.jsx(A,{className:"overflow-hidden p-0",children:s.jsx(T,{data:l,columns:r,filters:p,heading:e("customerGroups.domain"),rowCount:_,getRowId:d=>d.id,rowHref:d=>`/customer-groups/${d.id}`,action:{label:e("actions.create"),to:"/customer-groups/create"},emptyState:{empty:{heading:e("customerGroups.list.empty.heading"),description:e("customerGroups.list.empty.description")},filtered:{heading:e("customerGroups.list.filtered.heading"),description:e("customerGroups.list.filtered.description")}},pageSize:f,isLoading:C})})})},n=k(),N=()=>{const{t:e}=x(),{getFullDate:a}=S(),c=L(),u=P(),{mutateAsync:o}=E(),i=m.useCallback(async({id:t,name:r})=>{await u({title:e("customerGroups.delete.title"),description:e("customerGroups.delete.description",{name:r}),verificationText:r,verificationInstruction:e("general.typeToConfirm"),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await o({id:t},{onSuccess:()=>{g.success(e("customerGroups.delete.successToast",{name:r}))},onError:l=>{g.error(l.message)}})},[e,u,o]);return m.useMemo(()=>[n.accessor("name",{header:e("fields.name"),enableSorting:!0,sortAscLabel:e("filters.sorting.alphabeticallyAsc"),sortDescLabel:e("filters.sorting.alphabeticallyDesc")}),n.accessor("customers",{header:e("customers.domain"),cell:({row:t})=>{var r;return s.jsx("span",{children:((r=t.original.customers)==null?void 0:r.length)??0})}}),n.accessor("created_at",{header:e("fields.createdAt"),cell:({row:t})=>s.jsx("span",{children:a({date:t.original.created_at,includeTime:!0})}),enableSorting:!0,sortAscLabel:e("filters.sorting.dateAsc"),sortDescLabel:e("filters.sorting.dateDesc")}),n.accessor("updated_at",{header:e("fields.updatedAt"),cell:({row:t})=>s.jsx("span",{children:a({date:t.original.updated_at,includeTime:!0})}),enableSorting:!0,sortAscLabel:e("filters.sorting.dateAsc"),sortDescLabel:e("filters.sorting.dateDesc")}),n.action({actions:[[{icon:s.jsx(F,{}),label:e("actions.edit"),onClick:t=>{c(`/customer-groups/${t.row.original.id}/edit`)}}],[{icon:s.jsx(H,{}),label:e("actions.delete"),onClick:t=>{i({id:t.row.original.id,name:t.row.original.name??""})}}]]})],[e,c,a,i])},q=()=>{const e=G();return m.useMemo(()=>e,[e])},Q=()=>{const{getWidgets:e}=h();return s.jsx(b,{widgets:{after:e("customer_group.list.after"),before:e("customer_group.list.before")},children:s.jsx(I,{})})};export{Q as Component};
